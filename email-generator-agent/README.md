# ü§ñ Email Generator Agent



## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

**Email Generator Agent** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö e-mail –ø–∏—Å–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–µ–Ω—Ç–µ –∏–∑ CRM. –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ (–∏–º—è, –∫–æ–º–ø–∞–Ω–∏—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ—Ä–µ—Å—ã) –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞, –Ω–∞—Ü–µ–ª–µ–Ω–Ω—ã–π –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–ª–∏–∫–∞.

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–æ–≤—ã–µ AI-–º–æ–¥–µ–ª–∏ (GPT) –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (CRM + E-mail), —Å–æ–∑–¥–∞–≤–∞—è –∑–Ω–∞—á–∏–º—É—é –±–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
-   **–ì–ª—É–±–æ–∫–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç, —É—á–∏—Ç—ã–≤–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ –≤—ã–≥–æ–¥–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç —Ç–∞–∫–∏–µ –ø–∏—Å—å–º–∞ –æ—Ç –æ–±—ã—á–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.
-   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM:** –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Å–æ–±—ã—Ç–∏—é –≤ CRM (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–Ω–æ–≤—ã–π –ª–∏–¥") –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ.
-   **–ì–∏–±–∫–æ—Å—Ç—å:** –ü—Ä–æ–º–ø—Ç (–∑–∞–ø—Ä–æ—Å) –¥–ª—è AI –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏: —Ö–æ–ª–æ–¥–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤.
-   **–ò–∑–º–µ—Ä–∏–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ü–µ–ª–µ–Ω–∞ –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ Open Rate –∏ Click-Through Rate (CTR).

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| **n8n** | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞: –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CRM, –≤—ã–∑—ã–≤–∞–µ—Ç AI-–∞–≥–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–∏—Å—å–º–∞ |
| **Python (Flask)** | –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ (API), –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å GPT |
| **OpenAI GPT API**| –Ø–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –ø–∏—Å—å–º–∞ |
| **CRM (–ª—é–±–∞—è)**| –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, HubSpot, Pipedrive, –∏–ª–∏ –¥–∞–∂–µ Google Sheets) |
| **Gmail API**| –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ |

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
1.  **n8n –í–æ—Ä–∫—Ñ–ª–æ—É**: –°–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏–∑ CRM –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º.
2.  **Python API (Flask)**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç n8n, "–æ–±—â–∞–µ—Ç—Å—è" —Å OpenAI –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç.

–¢–∞–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ‚Äî —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å n8n —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –¥–µ–ª–∞–µ—Ç Python-—á–∞—Å—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π.

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫ Python API

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ `03-email-generator-agent`.
2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    source venv/bin/activate # –î–ª—è Windows: venv\Scripts\activate
    ```
3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`** –≤ —ç—Ç–æ–π –∂–µ –ø–∞–ø–∫–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∞—à–µ–≥–æ API-–∫–ª—é—á–∞ OpenAI. –í–ø–∏—à–∏—Ç–µ –≤ –Ω–µ–≥–æ:
    ```
    OPENAI_API_KEY="sk-..."
    ```
5.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask-—Å–µ—Ä–≤–µ—Ä:**
    ```bash
    flask run
    ```
    –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:5000`. –≠—Ç–æ—Ç –∞–¥—Ä–µ—Å –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è n8n.

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–æ—Ä–∫—Ñ–ª–æ—É –≤ n8n

1.  **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–æ—Ä–∫—Ñ–ª–æ—É** –∏–∑ —Ñ–∞–π–ª–∞ `n8n_workflow.json`.
2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä.** –í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Webhook-—Ç—Ä–∏–≥–≥–µ—Ä`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ –≤–∞—à–µ–π CRM –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ª–∏–¥–∞. –î–ª—è —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é.
3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–æ–¥—É `Call AI Agent API`:**
    * –í –ø–æ–ª–µ **URL** —É–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Flask-—Å–µ—Ä–≤–µ—Ä–∞: `http://127.0.0.1:5000/generate-email`. –ï—Å–ª–∏ n8n –∑–∞–ø—É—â–µ–Ω –≤ Docker, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://host.docker.internal:5000/generate-email`.
4.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–æ–¥—É `Create Gmail Draft`:**
    * –°–æ–∑–¥–∞–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Credentials) –¥–ª—è `Gmail API` –≤ n8n, –µ—Å–ª–∏ —É –≤–∞—Å –∏—Ö –µ—â–µ –Ω–µ—Ç.
    * –í—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–∏ credentials –≤ –Ω–æ–¥–µ. –ü–æ–ª—è "To", "Subject" –∏ "Body" —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —à–∞–≥–æ–≤.

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Ä–∫—Ñ–ª–æ—É –≤ n8n –≤—Ä—É—á–Ω—É—é (`Execute Workflow`).
2.  –ù–æ–¥–∞ `Set Mock CRM Data` —Å—ã–º–∏—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CRM.
3.  –ù–æ–¥–∞ `Call AI Agent API` –æ—Ç–ø—Ä–∞–≤–∏—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π Python-—Å–µ—Ä–≤–µ—Ä.
4.  –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ OpenAI, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∏—Å—å–º–æ –∏ –≤–µ—Ä–Ω–µ—Ç –µ–≥–æ –≤ n8n.
5.  –ù–æ–¥–∞ `Create Gmail Draft` —Å–æ–∑–¥–∞—Å—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –≤ –≤–∞—à–µ–º Gmail-–∞–∫–∫–∞—É–Ω—Ç–µ.

---

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* **`README.md`**: –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.
* **`api/`**
    * `email_generator_api.py`: Python-—Å–∫—Ä–∏–ø—Ç —Å Flask API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ email.
    * `requirements.txt`: Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è API.
    * `.env_example`: –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è API –∫–ª—é—á–∞.
* **`n8n/`**
    * `n8n_workflow.json`: –ì–æ—Ç–æ–≤—ã–π –≤–æ—Ä–∫—Ñ–ª–æ—É –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ n8n.
